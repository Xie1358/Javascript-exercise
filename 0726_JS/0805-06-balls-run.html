<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>setTimeout loop, balls</title>
    <style>
        #rect {
            position: relative;
            width: 800px;
            height: 600px;
            background-color: #c0e8ff;
        }
        .ball {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 1px solid gray;
            background-color: red;
            color: white;
            line-height: 40px;
            text-align: center;
            border-radius: 50%;
        }
    </style>
</head>
<body>

<div id="rect">
<!--    <div class="ball">88</div>-->
</div>


<script>
    let rect = document.querySelector('#rect');
    let b, i, balls = [];

    for(i=0; i<6; i++) {
        b = document.createElement('div');
        b.className = 'ball';
        b.innerHTML = i+1;
        b.style.left = 50 + 'px';
        b.style.top = i*60 + 'px';
        b.style.backgroundColor = `hsl(${i*17},100%,50%)`;
        rect.appendChild(b);

        balls.push(b); // 放入陣列
    }

    const doRun = ()=>{
        balls.forEach((el)=>{
            let x = parseInt(el.style.left);//拿到的值有px 所以用parseInt去掉
            x += 2 + parseInt(Math.random()*4);
            // console.log(x);
            // console.log(Math.random()*10);
            el.style.left = x + 'px';
        });
        setTimeout(doRun, 30); //人類眼睛視覺暫留 1秒24次 一秒更新24次就1000/24
    };

    doRun();
</script>
</body>
</html>